{% extends '_base.html' %}

{% load static %}

{% block title %} User profile of {% if user.first_name %}{{user.first_name}}{% else %}{{user.email}}{% endif %}{% endblock title %}

{% block content %}

<div class="container mt-5">
    <h1>User profile of {% if user.first_name %}{{user.first_name}}{% else %}{{user.email}}{% endif %}</h1>


    {% if user.profile_images.last.image %}
    <img class="my-5" src="{% get_media_prefix %}{{user.profile_images.last.image}}" style="height: 200px; width: auto"
         alt="Profilbild von {{user.firstname}}">
    {% endif %}

    <table class="table">
        <tbody>

        <tr>
            <td>Name</td>
            <td>{{user.first_name}} {{user.last_name}}</td>
        </tr>

        <tr>
            <td>Email</td>
            <td>{{user.email}}</td>
        </tr>

        <tr>
            <td>Home town</td>
            <td>{% if user.home_town %}{{user.home_town}}{% endif %}{% if user.home_country and user.home_town %},
                {% endif %}{% if user.home_country %}{{user.home_country}}{% endif %}
            </td>
        </tr>

        <tr>
            <td>Registered since</td>
            <td>{{user.date_joined|date:'j. F Y'}}</td>
        </tr>

        {% if request.user.is_staff %}
        <tr>
            <td>Last login</td>
            <td>{{user.last_login}}</td>
        </tr>

        <tr>
            <td>User is active</td>
            <td>{% if user.is_active %}Yes{% else %}No{% endif %}</td>
        </tr>

        {% endif %}


        </tbody>
    </table>

    {% if request.user.is_staff or request.user == user %}
    <p class="float-right mt-5"><a href="{% url 'user_update' user.url_short %}" class="btn btn-primary">Edit
        profile</a>
    </p>

    <p class="float-right mt-5 mr-3"><a href="{% url 'account_change_password' %}" class="btn btn-outline-primary">Change
        password</a>
    </p>
    {% endif %}

</div>


{% endblock %}